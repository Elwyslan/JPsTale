# 锻造模拟器

模拟精灵的锻造系统。

## 简介

玩家将武器、盾牌、战袍、铠甲、鞋、护腕、臂环等道具与指定数量的宝石交给锻造大师，付费后有一定几率提升道具的等级。

每次锻造后，道具的锻造等级会增加。锻造等级越高，锻造的成功率越低。锻造失败可能会摧毁道具。

无论锻造成功还是失败，宝石和金钱都会消耗。

## 宝石

精灵中锻造装备需要消耗宝石，目前一共有15种宝石。

    a "星遗石", "lucidy"
    b "流云石", "sereneo"
    c "海精石", "fadeo"
    d "天仪石", "sparky"
    e "冰晶石", "raident"
    f "玄风石", "transparo"
    g "水晶石", "murky"
    h "虎翼石", "devine"
    i "龙鳞石", "celesto"
    j "钻晶石", "mirage"
    k "龙睛石", "inferna"
    l "圣晶石", "enigma"
    m "恶魔石", "bellum"
    n "荣誉石", "oredo"
    o "蓝晶石", "sapphire"

随着等级的提升，每次锻造消耗的宝石种类和数量递增，一次最多消耗12颗宝石，每种最多消耗2颗。
规律如下：

 +1 :2a+2b+1c
 +2 :2a+2b+2c
 +3 :2a+2b+2c+1d
 +4 :2a+2b+2c+2d
 +5 :2a+2b+2c+2d+1e
 +6 :2a+2b+2c+2d+2e
 +7 :2a+2b+2c+2d+2e+1f
 +8 :2a+2b+2c+2d+2e+2f
 +9 :   2b+2c+2d+2e+2f+1g
 +10:   2b+2c+2d+2e+2f+2g
 +11:      2c+2d+2e+2f+2g+1h
 +12:      2c+2d+2e+2f+2g+2h
 +13:         2d+2e+2f+2g+2h+1i
 +14:         2d+2e+2f+2g+2h+2i
 +15:            2e+2f+2g+2h+2i+1j
 +16:            2e+2f+2g+2h+2i+2j
 +17:               2f+2g+2h+2i+2j+1k
 +18:               2f+2g+2h+2i+2j+2k
 +19:                  2g+2h+2i+2j+2k+1l
 +20:                  2g+2h+2i+2j+2k+2l
 依此类推...


## 金钱

每次锻造消耗的金钱计算公式为：

`消耗金钱 = 物品价格 * (1 + 锻造等级) / 2`

物品价格为服务器定义的价格，而非玩家交易的价格，且此价格不受装备耐久度影响。

若装备有特效，则在基础价格上额外增加20%。

若一件道具在服务器定义的价格为10000，锻造消耗金钱为：

 +1 :10000
 +2 :15000
 +3 :20000
 +4 :25000
 +5 :30000
 +6 :35000
 依此类推...

## 成功率

装备锻造的成功率由服务器定义。一般前4次锻造成功率是100%，从+5开始锻造成功率逐渐降低，最低为0%。

锻造失败后，可能出现3种情况：
* 摧毁道具
* 降级
* 安然无恙

摧毁意味着这件道具从此消失；降级则会减少道具的属性，例如从+13变成+12；安然无恙的几率非常，意味着你只失去了这次锻造消耗的宝石和金钱，算是最好的情况了。

随着锻造等级的提升，失败后摧毁道具的几率将越来越高。

锻造成功后有较小几率跳级，即从+1直接变成+2。随着锻造等级的提升，跳级的几率将越来越低。一般服务器+5之前都有20%~30%的跳级几率，从+8开始就只剩5%的跳级几率，最低0%。